@page "/pantry"
@using TheStockedKitchen.Client;

@inject ITheStockedKitchenClient _apiClient

@if (Loading)
{
    <LoadingSpinner />
}

<MudDataGrid Items="@FoodStock">
    <Columns>
        <PropertyColumn Property="s => s.Name" Title="N" />
        <PropertyColumn Property="s => s.Quantity" />
        <PropertyColumn Property="s => s.Unit" />
    </Columns>
</MudDataGrid>

@code {
    bool Loading;
    private List<FoodStock> FoodStock = new List<FoodStock>();

    protected override async Task OnInitializedAsync()
    {
        Loading = true;
        FoodStock = (await _apiClient.GetFoodStockAsync()).ToList();
        Loading = false;
    }
}