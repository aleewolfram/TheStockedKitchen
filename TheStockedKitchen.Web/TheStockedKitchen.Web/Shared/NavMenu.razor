@inject IJSRuntime JsRuntime

<MudDrawerContainer Class="mud-height-full">
    <MudDrawer Elevation="20" Width="15%" Open="@Open" Fixed="true" Variant="@DrawerVariant.Mini" PreserveOpenState="true">
        <MudDrawerHeader>
            <MudImage Src="images/Toasty.png" Height="50" />
            <MudText Class="site-logo-text" Typo="Typo.h5" Align="Align.Center">The Stocked Kitchen</MudText>
        </MudDrawerHeader>
        <MudNavMenu>
            <MudNavLink Icon="@Icons.Material.Filled.FoodBank" Href="/pantry">Pantry</MudNavLink>
            <MudNavLink Icon="@Icons.Material.Filled.Fastfood" Href="/recipes">Recipes</MudNavLink>
            <MudNavLink Icon="@Icons.Material.Filled.ShoppingCart" Href="/shopping">Shopping</MudNavLink>
            <MudDivider Class="my-2" />
            <MudNavLink Icon="@Icons.Material.Filled.Info" Href="/info">Info</MudNavLink>
            <MudNavLink Icon="@Icons.Material.Filled.Mail" Href="/contact">@Open</MudNavLink>
        </MudNavMenu>
    </MudDrawer>
</MudDrawerContainer>

@code {
    bool Open = true;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        Open = await JsRuntime.InvokeAsync<bool>("shouldNavBarBeOpen");
    }
}
